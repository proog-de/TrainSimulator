' Demo GFXPrint.bas
' GFXPrint has been posted by Fragmeister to the FreeBasic Forum

Type fb_FontType
  w As integer  'width
  h As Integer 'height
  data as ubyte ptr
End Type

'uncomment the internal gfx font you want to use
Extern fb_FontData8 Alias "fb_font_8x8" As fb_FontType
'Extern fb_FontData Alias "fb_font_8x14" As fb_FontType
Extern fb_FontData Alias "fb_font_8x16" As fb_FontType

Sub GFXPrint (ByRef text As String, x as integer, y as integer, col as integer, buffer As Any Ptr=0)
  Dim As Integer row, i
  Dim As UByte Ptr bits
  For i=1 To Len(text)
    bits=fb_FontData.Data + _
      (Asc(Mid$(text,i,1))*fb_FontData.h)
    For row=0 To fb_FontData.h-1
      If (buffer) Then
        Line buffer,(x+7,y+row)-(x,y+row),col,,*bits Shl 8
      Else
        Line (x+7,y+row)-(x,y+row),col,,*bits Shl 8
      EndIf
      bits+=1
    Next
    x+=8
  Next
End Sub

Sub GFXPrint8 (ByRef text As String, x as integer, y as integer, col as integer, buffer As Any Ptr=0)
  Dim As Integer row, i
  Dim As UByte Ptr bits
  For i=1 To Len(text)
    bits=fb_FontData8.Data + _
      (Asc(Mid$(text,i,1))*fb_FontData8.h)
    For row=0 To fb_FontData8.h-1
      If (buffer) Then
        Line buffer,(x+7,y+row)-(x,y+row),col,,*bits Shl 8
      Else
        Line (x+7,y+row)-(x,y+row),col,,*bits Shl 8
      EndIf
      bits+=1
    Next
    x+=8
  Next
End Sub

Dim Shared f6x8b(256,8) As UShort
dim f6x8i as integer, f6x8j as integer
Restore f6x8
For f6x8i=0 To 255
  For f6x8j=0 To 7
    Read f6x8b(f6x8i,f6x8j)
    f6x8b(f6x8i,f6x8j)=f6x8b(f6x8i,f6x8j) Shl 8
  Next f6x8j
Next f6x8i

Sub GFXPrint6 (ByRef text As String, x as integer, y as integer, col as integer, buffer As Any Ptr=0)
  Dim As Integer row, i
  Dim As UByte Ptr bits
  For i=0 To Len(text)-1
    For row=0 To 7
      If (buffer) Then
        Line buffer,(x,y+row)-(x+7,y+row),col,,f6x8b(text[i],row)
      Else
        Line (x,y+row)-(x+7,y+row),col,,f6x8b(text[i],row)
      EndIf
    Next
    x+=6
  Next
End Sub

f6x8:
data _
0,0,0,0,0,0,0,0, _
0,36,90,0,60,24,0,0, _
60,90,36,126,66,102,60,0, _
0,40,124,124,56,16,0,0, _
0,16,56,124,56,16,0,0, _
16,56,84,124,84,16,0,0, _
16,56,124,124,16,56,0,0, _
0,24,60,60,24,0,0,0, _
126,102,66,66,102,126,0,0, _
0,24,36,36,24,0,0,0, _
126,102,90,90,102,126,0,0, _
28,12,52,72,72,48,0,0, _
56,68,68,56,16,56,16,0, _
8,14,8,24,56,16,0,0, _
30,18,18,54,126,36,0,0, _
16,84,56,108,56,84,16,0, _
32,48,56,60,56,48,32,0, _
4,12,28,60,28,12,4,0, _
16,56,84,16,84,56,16,0, _
40,40,40,40,40,0,40,0, _
62,90,90,90,58,26,26,0, _
28,34,24,36,36,24,68,56, _
0,0,0,0,0,56,56,0, _
16,56,84,16,84,56,16,124, _
16,56,84,16,16,16,0,0, _
16,16,16,84,56,16,0,0, _
8,4,126,4,8,0,0,0, _
16,32,126,32,16,0,0,0, _
0,96,96,124,0,0,0,0, _
24,36,126,36,24,0,0,0, _
0,0,16,56,124,0,0,0, _
0,0,124,56,16,0,0,0, _
0,0,0,0,0,0,0,0, _
32,32,32,32,32,0,32,0, _
40,40,40,0,0,0,0,0, _
0,40,124,40,124,40,0,0, _
16,60,80,56,20,120,16,0, _
96,100,8,16,32,76,12,0, _
48,72,72,48,84,72,52,0, _
16,16,32,0,0,0,0,0, _
8,16,32,32,32,16,8,0, _
32,16,8,8,8,16,32,0, _
0,40,16,124,16,40,0,0, _
0,16,16,124,16,16,0,0, _
0,0,0,0,0,0,16,32, _
0,0,0,124,0,0,0,0, _
0,0,0,0,0,0,32,0, _
0,4,8,16,32,64,0,0, _
56,68,76,84,100,68,56,0, _
16,48,16,16,16,16,56,0, _
56,68,4,24,32,64,124,0, _
56,68,4,56,4,68,56,0, _
8,24,40,72,124,8,8,0, _
124,64,120,4,4,68,56,0, _
24,32,64,120,68,68,56,0, _
124,4,4,8,16,16,16,0, _
56,68,68,56,68,68,56,0, _
56,68,68,60,4,8,48,0, _
0,0,0,16,0,0,16,0, _
0,0,0,16,0,0,16,32, _
4,8,16,32,16,8,4,0, _
0,0,124,0,124,0,0,0, _
32,16,8,4,8,16,32,0, _
56,68,4,8,16,0,16,0, _
56,68,92,84,92,64,60,0, _
56,68,68,124,68,68,68,0, _
120,68,68,120,68,68,120,0, _
60,64,64,64,64,64,60,0, _
112,72,68,68,68,72,112,0, _
124,64,64,120,64,64,124,0, _
124,64,64,120,64,64,64,0, _
60,64,64,76,68,68,60,0, _
68,68,68,124,68,68,68,0, _
56,16,16,16,16,16,56,0, _
4,4,4,4,68,68,56,0, _
68,72,80,96,80,72,68,0, _
64,64,64,64,64,64,124,0, _
68,108,84,68,68,68,68,0, _
68,68,100,84,76,68,68,0, _
56,68,68,68,68,68,56,0, _
120,68,68,68,120,64,64,0, _
56,68,68,68,84,72,52,0, _
120,68,68,72,112,72,68,0, _
60,64,64,56,4,4,120,0, _
124,16,16,16,16,16,16,0, _
68,68,68,68,68,68,56,0, _
68,68,68,68,68,40,16,0, _
68,68,68,68,84,84,40,0, _
68,68,40,16,40,68,68,0, _
68,68,68,56,16,16,16,0, _
124,4,8,16,32,64,124,0, _
56,32,32,32,32,32,56,0, _
0,64,32,16,8,4,0,0, _
56,8,8,8,8,8,56,0, _
16,40,68,0,0,0,0,0, _
0,0,0,0,0,0,0,126, _
16,16,8,0,0,0,0,0, _
0,0,0,60,68,68,60,0, _
0,64,64,120,68,68,120,0, _
0,0,0,60,64,64,60,0, _
0,4,4,60,68,68,60,0, _
0,0,56,68,124,64,60,0, _
0,24,32,120,32,32,32,0, _
0,0,0,60,68,60,4,56, _
0,64,64,120,68,68,68,0, _
0,16,0,48,16,16,56,0, _
0,4,0,12,4,4,68,56, _
0,64,68,72,80,104,68,0, _
0,48,16,16,16,16,56,0, _
0,0,0,120,84,84,84,0, _
0,0,0,120,68,68,68,0, _
0,0,0,56,68,68,56,0, _
0,0,0,120,68,120,64,64, _
0,0,0,60,68,60,4,4, _
0,0,0,60,64,64,64,0, _
0,0,0,28,16,16,112,0, _
0,32,32,120,32,32,24,0, _
0,0,0,68,68,68,56,0, _
0,0,0,68,68,40,16,0, _
0,0,0,84,84,84,40,0, _
0,0,68,40,16,40,68,0, _
0,0,0,68,68,60,4,56, _
0,0,0,120,16,32,120,0, _
12,16,16,32,16,16,12,0, _
16,16,16,0,16,16,16,0, _
96,16,16,8,16,16,96,0, _
32,84,8,0,0,0,0,0, _
0,16,40,68,124,0,0,0, _
56,68,68,64,68,56,24,32, _
40,0,68,68,68,68,56,0, _
12,16,56,68,124,64,60,0, _
16,108,0,60,68,68,60,0, _
40,0,0,60,68,68,60,0, _
96,16,0,60,68,68,60,0, _
56,0,0,60,68,68,60,0, _
0,0,56,68,64,60,24,32, _
16,108,56,68,124,64,60,0, _
40,0,56,68,124,64,60,0, _
96,16,56,68,124,64,60,0, _
20,0,24,8,8,8,28,0, _
16,108,0,48,16,16,56,0, _
96,16,0,48,16,16,56,0, _
40,0,56,68,68,124,68,0, _
56,0,56,68,68,124,68,0, _
12,16,124,64,120,64,124,0, _
0,0,120,20,60,80,60,0, _
60,80,80,88,80,112,92,0, _
16,108,0,56,68,68,56,0, _
40,0,0,56,68,68,56,0, _
96,16,0,56,68,68,56,0, _
16,108,0,68,68,76,52,0, _
96,16,68,68,68,76,52,0, _
40,0,68,68,76,52,4,120, _
60,66,90,82,82,90,66,60, _
122,46,42,42,0,0,0,0, _
16,56,84,80,84,56,16,16, _
16,40,32,112,36,116,104,0, _
68,68,40,124,16,124,16,0, _
96,80,88,92,104,72,68,0, _
8,20,16,56,16,80,80,32, _
12,16,56,4,60,68,60,0, _
24,32,0,48,16,16,56,0, _
12,16,56,68,68,68,56,0, _
12,16,68,68,68,76,52,0, _
52,88,0,88,100,68,68,0, _
52,88,0,100,116,92,76,0, _
56,24,40,56,0,56,0,0, _
16,40,40,16,0,56,0,0, _
16,0,16,32,68,68,56,0, _
0,0,0,124,96,96,0,0, _
0,0,0,124,12,12,0,0, _
64,68,72,16,46,70,12,14, _
64,68,72,16,36,76,30,4, _
32,0,32,32,32,32,32,0, _
0,18,36,72,36,18,0,0, _
0,72,36,18,36,72,0,0, _
16,68,16,68,16,68,16,68, _
42,84,42,84,42,84,42,84, _
118,92,118,92,118,92,118,92, _
16,16,16,16,16,16,16,16, _
16,16,16,16,112,16,16,16, _
16,16,112,16,112,16,16,16, _
40,40,40,40,104,40,40,40, _
0,0,0,0,120,40,40,40, _
0,0,112,16,112,16,16,16, _
40,40,104,8,104,40,40,40, _
40,40,40,40,40,40,40,40, _
0,0,120,8,104,40,40,40, _
40,40,104,8,120,0,0,0, _
40,40,40,40,120,0,0,0, _
16,16,112,16,112,0,0,0, _
0,0,0,0,112,16,16,16, _
16,16,16,16,30,0,0,0, _
16,16,16,16,126,0,0,0, _
0,0,0,0,126,16,16,16, _
16,16,16,16,30,16,16,16, _
0,0,0,0,126,0,0,0, _
16,16,16,16,126,16,16,16, _
16,16,30,16,30,16,16,16, _
40,40,40,40,46,40,40,40, _
40,40,46,32,62,0,0,0, _
0,0,62,32,46,40,40,40, _
40,40,110,0,126,0,0,0, _
0,0,126,0,110,40,40,40, _
40,40,46,32,46,40,40,40, _
0,0,126,0,126,0,0,0, _
40,40,110,0,110,40,40,40, _
16,16,126,0,126,0,0,0, _
40,40,40,40,126,0,0,0, _
0,0,126,0,126,16,16,16, _
0,0,0,0,126,40,40,40, _
40,40,40,40,62,0,0,0, _
16,16,30,16,30,0,0,0, _
0,0,30,16,30,16,16,16, _
0,0,0,0,62,40,40,40, _
40,40,40,40,110,40,40,40, _
16,16,126,0,126,16,16,16, _
16,16,16,16,112,0,0,0, _
0,0,0,0,30,16,16,16, _
126,126,126,126,126,126,126,126, _
0,0,0,0,126,126,126,126, _
112,112,112,112,112,112,112,112, _
14,14,14,14,14,14,14,14, _
126,126,126,126,0,0,0,0, _
0,0,20,40,72,74,52,0, _
48,72,80,72,68,68,88,64, _
124,36,36,32,32,32,112,0, _
0,0,30,116,36,36,36,0, _
124,68,32,16,32,68,124,0, _
0,0,62,72,72,72,48,0, _
0,0,36,36,36,56,32,32, _
0,0,44,88,80,16,16,0, _
124,16,56,68,68,56,16,124, _
16,40,68,124,68,40,16,0, _
56,68,68,68,108,40,108,0, _
24,36,16,56,68,68,56,0, _
0,0,40,84,84,40,0,0, _
4,12,56,92,116,56,96,64, _
0,56,64,112,64,56,0,0, _
0,48,72,72,72,72,0,0, _
0,126,0,126,0,126,0,0, _
16,16,124,16,16,0,124,0, _
32,16,8,16,32,0,124,0, _
8,16,32,16,8,0,124,0, _
8,20,20,16,16,16,16,16, _
4,4,4,4,4,20,20,8, _
0,8,0,62,0,8,0,0, _
32,84,8,32,84,8,0,0, _
16,40,16,0,0,0,0,0, _
0,0,0,0,24,24,0,0, _
0,0,0,0,0,24,0,0, _
2,4,4,8,80,48,32,0, _
80,104,72,72,0,0,0,0, _
112,16,32,112,0,0,0,0, _
0,0,0,60,60,60,60,0, _
0,0,0,0,0,0,0,0

'WindowTitle "GFXPrint"
'Screen 13
'Cls
'GFXPrint "Hello world!",112,60,15
'GFXPrint8 "Hello world!",112,90,15
'GFXPrint6 "Hello world!",112,110,15
'Sleep

'BESETTINGS (don't change!):
'BECURSOR=36C
'BETOGGLE=111
'BETARGET=1